<!DOCTYPE html>
<html lang="KR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이크로비트 5단 광량계 만들기 학습 페이지</title>
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Gowun+Batang:wght@400;700&family=Noto+Serif+KR:wght@400;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        :root {
            --bg-color: #121212;
            --card-bg: #1E1E1E;
            --text-main: #E0E0E0;
            --text-sub: #A0A0A0;
            --accent-primary: #BB86FC;
            --accent-secondary: #03DAC6;
            --accent-warn: #CF6679;
            --gradient-title: linear-gradient(135deg, #BB86FC 0%, #3700B3 100%);
        }

        body {
            font-family: 'Pretendard', 'Noto Serif KR', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            line-height: 1.7;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        header {
            text-align: center;
            margin-bottom: 60px;
            padding: 40px 0;
            border-bottom: 1px solid #333;
        }

        .main-title {
            font-size: 3rem;
            margin: 0 0 15px 0;
            background: var(--gradient-title);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
            letter-spacing: -1px;
        }

        .subtitle {
            font-family: 'Gowun Batang', serif;
            font-size: 1.3rem;
            color: var(--text-sub);
            margin: 0;
        }

        section {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid #2a2a2a;
        }

        h2 {
            color: var(--accent-primary);
            font-size: 1.8rem;
            border-left: 4px solid var(--accent-secondary);
            padding-left: 15px;
            margin-top: 0;
            margin-bottom: 30px;
        }

        h3 {
            color: var(--accent-secondary);
            font-size: 1.3rem;
            margin-top: 40px;
            margin-bottom: 15px;
        }

        p {
            margin-bottom: 20px;
            word-break: keep-all;
        }

        strong {
            color: #fff;
            background: rgba(187, 134, 252, 0.15);
            padding: 2px 6px;
            border-radius: 4px;
        }

        code {
            background: rgba(3, 218, 198, 0.15);
            color: var(--accent-secondary);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }

        .type-key-terms {
            background: linear-gradient(135deg, rgba(3, 218, 198, 0.1) 0%, rgba(187, 134, 252, 0.1) 100%);
            border: 1px solid var(--accent-secondary);
            text-align: center;
        }

        .keyword-list {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
        }

        .keyword-chip {
            background: rgba(3, 218, 198, 0.15);
            border: 1px solid var(--accent-secondary);
            color: var(--accent-secondary);
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(3, 218, 198, 0.1);
        }

        .keyword-chip:hover {
            background: var(--accent-secondary);
            color: #000;
            box-shadow: 0 0 20px rgba(3, 218, 198, 0.4);
            transform: translateY(-2px);
        }

        .visual-placeholder {
            width: 93%;
            min-height: 280px;
            background: #171717;
            border: 2px dashed #444;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #666;
            margin: 30px 0;
            padding: 30px;
            transition: all 0.3s;
        }

        .visual-placeholder:hover {
            border-color: var(--accent-primary);
            color: var(--accent-primary);
        }

        .visual-placeholder i {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        ul {
            padding-left: 20px;
        }

        li {
            margin-bottom: 12px;
            position: relative;
            list-style: none;
        }

        li::before {
            content: "▪";
            color: var(--accent-secondary);
            font-weight: bold;
            display: inline-block;
            width: 1.5em;
            margin-left: -1.5em;
        }

        /* 시뮬레이터 컨테이너 */
        .viz-wrapper {
            font-family: 'Noto Sans KR', 'Pretendard', sans-serif;
            padding: 25px;
            background: #0d0d0d;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            border: 1px solid #333;
            margin: 30px 0;
        }

        .viz-wrapper h3 {
            margin-top: 0;
            color: var(--accent-primary);
            text-align: center;
        }

        .viz-wrapper>p {
            text-align: center;
            font-size: 0.9em;
            color: var(--text-sub);
        }

        .control-panel {
            margin-bottom: 20px;
            padding: 20px;
            background: #1a1a1a;
            border-radius: 8px;
            border: 1px solid #333;
        }

        .slider-container {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 15px 0;
        }

        .slider-container span {
            color: var(--text-sub);
            font-size: 0.9rem;
            white-space: nowrap;
        }

        input[type=range] {
            flex-grow: 1;
            height: 6px;
            background: #333;
            border-radius: 5px;
            appearance: none;
            outline: none;
        }

        input[type=range]::-webkit-slider-thumb {
            appearance: none;
            width: 18px;
            height: 18px;
            background: #FF9800;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 8px rgba(255, 152, 0, 0.5);
        }

        input[type=range]::-moz-range-thumb {
            width: 18px;
            height: 18px;
            background: #FF9800;
            border-radius: 50%;
            cursor: pointer;
            border: none;
        }

        .readout-row {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            gap: 10px;
        }

        .readout-row>span {
            color: var(--text-sub);
            font-size: 0.9rem;
        }

        .readout {
            font-weight: bold;
            color: var(--text-main);
            font-family: 'Courier New', monospace;
        }

        .value-box {
            display: inline-block;
            min-width: 60px;
            text-align: right;
        }

        /* 새로운 회로 시각화 컨테이너 */
        .circuit-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 20px;
            background: #0a0a0a;
            border-radius: 12px;
            margin-bottom: 20px;
            border: 1px solid #2a2a2a;
        }

        /* 회로도 스타일 */
        .circuit-schematic {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0;
            position: relative;
        }

        .power-label,
        .ground-label {
            font-weight: bold;
            font-size: 1rem;
            padding: 8px 16px;
            border-radius: 6px;
        }

        .power-label {
            color: #FF6B6B;
            background: rgba(255, 107, 107, 0.15);
            border: 1px solid #FF6B6B;
        }

        .ground-label {
            color: #4ECDC4;
            background: rgba(78, 205, 196, 0.15);
            border: 1px solid #4ECDC4;
        }

        .wire-segment {
            width: 3px;
            height: 15px;
            background: #666;
        }

        .component {
            width: 120px;
            height: 65px;
            border: 3px solid #666;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            position: relative;
        }

        .cds-component {
            background: #333;
        }

        .cds-component .light-icon {
            width: 40px;
            height: 40px;
            filter: brightness(0.5);
            transition: filter 0.3s ease;
        }

        .cds-component .resist-label {
            font-size: 0.85rem;
            color: #FFD700;
            font-weight: bold;
            font-family: 'Courier New', monospace;
        }

        .fixed-component {
            background: rgba(78, 205, 196, 0.1);
            border-color: #4ECDC4;
        }

        .fixed-component .resist-label {
            font-size: 0.9rem;
            color: #4ECDC4;
            font-weight: bold;
        }

        .measure-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 12px;
            background: rgba(255, 215, 0, 0.15);
            border: 1px dashed #FFD700;
            border-radius: 6px;
            color: #FFD700;
            font-size: 0.9rem;
            font-weight: bold;
            margin: 5px 0;
        }

        .measure-indicator #p0Voltage {
            color: #4CAF50;
            font-family: 'Courier New', monospace;
        }

        /* 전압 분배 막대 스타일 */
        .voltage-visualizer {
            display: flex;
            gap: 15px;
            align-items: flex-start;
            position: relative;
        }

        .voltage-stack {
            display: flex;
            flex-direction: column;
            height: 280px;
            width: 100px;
            border: 2px solid #444;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
        }

        .voltage-bar {
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.1rem;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
            transition: flex 0.3s ease;
            min-height: 20px;
        }

        .cds-bar {
            background: linear-gradient(to bottom, #FF6B6B 0%, #FFA500 100%);
        }

        .fixed-bar {
            background: linear-gradient(to bottom, #4ECDC4 0%, #45B7D1 100%);
        }

        .voltage-divider-line {
            position: absolute;
            left: 0;
            right: 0;
            height: 0;
            border-top: 3px dashed #FFD700;
            z-index: 10;
            transition: top 0.3s ease;
        }

        .voltage-divider-line .divider-label {
            position: absolute;
            left: -80px;
            top: -12px;
            white-space: nowrap;
            color: #FFD700;
            font-size: 0.85rem;
            font-weight: bold;
            background: #0a0a0a;
            padding: 2px 6px;
            border-radius: 4px;
        }

        /* P0 신호 경로 시각화 */
        .signal-path {
            position: absolute;
            left: 115px;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: top 0.3s ease;
            transform: translateY(-50%);
        }

        .arrow-line {
            position: relative;
            width: 80px;
            height: 0;
            border-top: 3px solid #FFD700;
            transition: margin-top 0.3s ease;
        }

        .arrow-line::after {
            content: '';
            position: absolute;
            right: -8px;
            top: -6px;
            width: 0;
            height: 0;
            border-left: 10px solid #FFD700;
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
        }

        .signal-label {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            color: #FFD700;
            font-size: 0.9rem;
            font-weight: bold;
            background: #0a0a0a;
            padding: 2px 8px;
            border-radius: 4px;
            white-space: nowrap;
        }

        .microbit-box {
            min-width: 90px;
            padding: 12px 16px;
            background: rgba(187, 134, 252, 0.15);
            border: 2px solid var(--accent-primary);
            border-radius: 8px;
            color: var(--accent-primary);
            font-weight: bold;
            font-size: 0.85rem;
            text-align: center;
            box-shadow: 0 0 15px rgba(187, 134, 252, 0.3);
        }

        .voltage-labels {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 280px;
            font-size: 0.85rem;
            color: var(--text-sub);
            padding: 0;
        }

        .voltage-labels .top-label {
            color: #FF6B6B;
        }

        .voltage-labels .bottom-label {
            color: #4ECDC4;
        }

        .led-array {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 20px;
            background: #0a0a0a;
            border-radius: 8px;
        }

        .led {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background-color: #2a2a2a;
            border: 2px solid #1a1a1a;
            transition: all 0.2s;
            box-shadow: inset 0 0 8px rgba(0, 0, 0, 0.5);
        }

        .led.on {
            background-color: #FF5722;
            box-shadow: 0 0 20px #FF5722, inset -2px -2px 5px rgba(0, 0, 0, 0.3);
            border-color: #D84315;
        }

        .type-summary {
            background: linear-gradient(135deg, rgba(207, 102, 121, 0.2) 0%, rgba(187, 134, 252, 0.2) 100%);
            border: 1px solid var(--accent-warn);
        }

        .type-summary h3 {
            color: var(--accent-warn);
            margin-top: 0;
        }

        .footer {
            text-align: center;
            padding: 40px 0;
            color: #666;
            font-size: 0.9rem;
            border-top: 1px solid #333;
            margin-top: 60px;
        }

        /* ===== 반응형 디자인 - 좁은 화면 대응 ===== */
        @media (max-width: 768px) {

            /* 메인 타이틀 크기 축소 */
            .main-title {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1.1rem;
            }

            /* 섹션 패딩 축소 */
            section {
                padding: 25px 20px;
            }

            /* 회로 컨테이너를 세로 배치로 변경 */
            .circuit-container {
                grid-template-columns: 1fr;
                gap: 20px;
                padding: 15px;
            }

            /* 회로도 요소 크기 조정 */
            .component {
                width: 100px;
                height: 55px;
            }

            .power-label,
            .ground-label {
                font-size: 0.9rem;
                padding: 6px 12px;
            }

            /* 전압 시각화 컨테이너 중앙 정렬 */
            .voltage-visualizer {
                justify-content: center;
                margin: 0 auto;
            }

            /* 전압 스택 크기 조정 */
            .voltage-stack {
                height: 240px;
                width: 80px;
            }

            .voltage-labels {
                height: 240px;
            }

            /* 신호 경로 화살표 조정 */
            .signal-path {
                left: 95px;
            }

            .arrow-line {
                width: 60px;
            }

            .microbit-box {
                min-width: 70px;
                padding: 10px 12px;
                font-size: 0.75rem;
            }

            /* 전압 분배선 레이블 위치 조정 */
            .voltage-divider-line .divider-label {
                left: -70px;
                font-size: 0.75rem;
            }

            .signal-label {
                font-size: 0.8rem;
            }

            /* LED 배열 크기 축소 */
            .led-array {
                gap: 10px;
            }

            .led {
                width: 28px;
                height: 28px;
            }

            /* 슬라이더 컨테이너 */
            .slider-container {
                gap: 10px;
            }

            .slider-container span {
                font-size: 0.8rem;
            }

            /* 읽기 표시 행 */
            .readout-row {
                flex-direction: column;
                gap: 8px;
            }

            .readout-row>span {
                font-size: 0.85rem;
            }
        }

        /* ===== 매우 좁은 화면 (모바일) ===== */
        @media (max-width: 480px) {
            .main-title {
                font-size: 1.6rem;
            }

            .container {
                padding: 20px 15px;
            }

            section {
                padding: 20px 15px;
                margin-bottom: 20px;
            }

            h2 {
                font-size: 1.4rem;
            }

            h3 {
                font-size: 1.1rem;
            }

            /* 키워드 칩 크기 축소 */
            .keyword-chip {
                padding: 8px 16px;
                font-size: 0.85rem;
            }

            /* 전압 스택 더 작게 */
            .voltage-stack {
                height: 200px;
                width: 70px;
            }

            .voltage-labels {
                height: 200px;
                font-size: 0.75rem;
            }

            /* 신호 경로 더 짧게 */
            .signal-path {
                left: 85px;
            }

            .arrow-line {
                width: 50px;
            }

            .microbit-box {
                min-width: 60px;
                padding: 8px 10px;
                font-size: 0.7rem;
            }

            /* LED 더 작게 */
            .led {
                width: 24px;
                height: 24px;
            }

            .led-array {
                gap: 8px;
            }

            /* 제어 패널 */
            .control-panel {
                padding: 15px;
            }

            .viz-wrapper {
                padding: 15px;
            }

            /* 이미지 반응형 */
            .visual-placeholder {
                width: 100%;
                min-height: 200px;
                padding: 20px;
            }
        }
    </style>
</head>

<body>

    <div class="container">

        <header>
            <h1 class="main-title">💡 빛을 숫자로 바꾸는 마법</h1>
            <p class="subtitle">마이크로비트와 CdS 센서를 활용한 '5단 광량계' 만들기 탐구 활동</p>
        </header>

        <section class="type-key-terms">
            <h3>🔑 수업 핵심 키워드</h3>
            <div class="keyword-list">
                <span class="keyword-chip">아날로그 입력</span>
                <span class="keyword-chip">전압 분배 회로</span>
                <span class="keyword-chip">CdS 조도 센서</span>
                <span class="keyword-chip">Micro:Bit</span>
                <span class="keyword-chip">브레드보드</span>
            </div>
        </section>

        <!-- Framework 1: Theoretical Foundation -->
        <section>
            <h2>1. 아날로그 신호의 이해: 0과 1 사이의 무한한 세계</h2>

            <h3>디지털의 이분법을 넘어서</h3>
            <p><strong>디지털(Digital)</strong> 세계, 이젠 우리에게 너무 익숙한 말이야. 버튼을 누르면 켜지고(1), 떼면 꺼지는(0) 명확한 세계지. 하지만
                우리가 사는 현실은 그렇지 않아. "오늘은 덥니?"라고 물었을 때 "네/아니요"로만 대답할 수 없잖아? "조금 더워", "엄청 더워", "미칠 듯이 더워"처럼 <strong>연속적인
                    값</strong>이 필요해. 이번 수업의 첫 번째 목표는 바로 이 연속적인 아날로그 세상으로 떠나는 거야.</p>

            <div style="text-align: center; margin: 30px 0;">
                <img src="https://www.processsensing.com/blogimg/analog%20vs%20digital%20sensors.png"
                    alt="아날로그 vs 디지털 신호 비교 그래프"
                    style="max-width: 100%; height: auto; border-radius: 12px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);">
                <p style="text-align: center; margin-top: 15px; font-size: 0.9em; color: var(--text-sub);">아날로그 vs 디지털
                    신호 비교 이미지</p>
            </div>

            <p>아날로그 신호를 받는 마이크로비트는 사실 그 신호를 바로 이해할 수는 없어. 왜냐하면 마이크로비트도 디지털 기반의 컴퓨터이기 때문이지. 그래서 아날로그 신호를 디지털로
                <strong>번역</strong>해야 해. 마이크로비트는 이 아날로그 신호를 <strong>0부터 1023까지의 숫자</strong>로 번역해서 이해해. 왜 하필 1023일까? 이건
                마이크로비트의 뇌 속에 있는 <strong>ADC(Analog-to-Digital Converter)</strong>라는 번역기가 10비트(bit), 그러니까 2진법 10자리 숫자 표현이
                가능하기 때문이야. 2의 10제곱은 1024니까, 0을 포함하면 1023까지 잴 수 있는 거지. 센서는 <strong>전압</strong>의 형태로 아날로그 신호를 전달하고,
                마이크로비트는 그 <strong>전압의 크기</strong>를 1024 단계로 해석할 거야.
            </p>

            <div style="text-align: center; margin: 30px 0;">
                <img src="https://create.routenote.com/blog/wp-content/uploads/2023/09/Picture4-960x540.png"
                    alt="아날로그의 디지털 변환"
                    style="max-width: 60%; height: auto; border-radius: 12px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);">
                <p style="text-align: center; margin-top: 15px; font-size: 0.9em; color: var(--text-sub);">아날로그의 디지털 변환
                </p>
            </div>

            <h3>왜 센서가 중요한가?</h3>
            <p>센서를 다룬다는 건 컴퓨터에게 <strong>감각 기관</strong>을 선물하는 것과 같아. 키보드나 마우스 없이도 컴퓨터가 스스로 주변 환경(빛, 소리, 온도)을 느끼게 하는 거지.
                특히 이번에 다룰 <strong>조도 센서(CdS)</strong>는 가장 직관적이야. 손으로 가리면 어두워지고, 손을 떼면 밝아지니까 즉각적인 피드백을 볼 수 있거든. "너희들이 만든
                회로가 살아서 움직일 거야!" 😊</p>

            <h3>마이크로비트에 눈👀 달아주기</h3>
            <p>이번 시간에는 CdS 조도 센서를 마이크로비트에 연결해서, 마이크로비트가 빛을 감지하고 주변 밝기를 LED로 표현하는 회로를 직접 만들거야. 하지만, 단순히 센서를 연결하는게 전부가
                아니야. 센서가 어떻게 신호를 보내고, 컴퓨터는 어떻게 그 신호를 해석하는지 오늘 활동을 하고 나면 완벽하게 이해하게 될거라고!</p>


        </section>

        <!-- Framework 2: Fundamental Mechanics (Visualization) -->
        <section>
            <h2>2. 전압 분배 법칙: 보이지 않는 저항을 낚아채는 기술</h2>

            <h3>CdS 센서의 비밀</h3>
            <p>자, 여기서부터가 오늘의 승부처야. 많은 학생들이 CdS 센서를 그냥 핀에 꽂으면 된다고 생각하는데, 절대 아니야! CdS는 빛을 받으면 저항이 줄어들고, 어두우면 저항이 커지는
                <strong>가변 저항(Variable Resistor)</strong>일 뿐이야. 저항 자체는 전기를 만들어내지 못해. 그래서 마이크로비트가 읽을 수 있는 <strong>'전압의
                    크기'</strong>로 바꿔주는 장치가 필요한데, 그게 바로 <strong>전압 분배 회로</strong>란다.
            </p>
            <p>회로 구조는 간단해. 먼저 <strong>CdS 저항</strong>과 <strong>10kΩ 저항</strong>을 <strong>직렬</strong>로 연결하고, 3.3V의
                전압(마이크로비트가
                만들어 줄 거야.)을 걸어줘. 그리고 CdS 저항과 10kΩ 저항 <strong>사이에</strong> 선을 하나 꼽고 마이크로비트의 <strong>P0</strong>라고 하는 핀에
                연결하면
                돼. 대충 그려지니? 자세한 방법은 뒤에서 다시 알려줄 거야.
            </p>

            <h3>10kΩ 저항은 왜 필요할까?</h3>
            <p>CdS 혼자서는 아무리 저항이 변해도, 3.3V와 GND 사이에 혼자 연결되면 전압은 항상 3.3V로 일정해(옴의 법칙). 그래서 <strong>파트너 저항(고정 저항, 보통
                    10kΩ)</strong>이 꼭 필요해! 🤝</p>
            <p>상상해 봐. 3.3V라는 낙차를 가진 물줄기가 흐르는데, 위에는 CdS가, 아래는 10kΩ 저항이 버티고 있어. 둘이 서로 3.3V라는 전압을 나눠서 버티는 거야. 빛이 밝아지면 CdS의
                저항이 약해져서 아래쪽 10kΩ 쪽으로 더 많은 전압이 쏠리게 돼. 반대로 빛이 어두워지면 CdS의 저항이 커지면서 10kΩ 쪽의 전압은 줄어들지. 마이크로비트는 바로 그
                <strong>중간 지점의 전압</strong>을 들여다보는 거지. 그리고 이 전압값을 아날로그 입력으로 해석할거야. 이 원리를 이해하지 못하면 이후 이어질 센서 만들기 과정이 단순한
                '따라 하기'에 그치고 말아. 아래 시뮬레이터를 통해 이 원리를 직접 체험해보자!
            </p>

            <!-- Interactive Visualization Component -->
            <div class="viz-wrapper">
                <h3>🎛️ 가상 광량계 시뮬레이터</h3>
                <p>슬라이더를 움직여 빛의 세기를 조절해보세요. 저항의 변화가 어떻게 LED를 켜는지 확인할 수 있어요!</p>

                <div class="control-panel">
                    <div class="slider-container">
                        <span>🌑 어둠</span>
                        <input type="range" id="lightSlider" min="0" max="100" value="50">
                        <span>빛 ☀️</span>
                    </div>
                    <div class="readout-row">
                        <span>CdS 저항값: <span id="resVal" class="readout value-box">--</span> Ω</span>
                        <span>아날로그 입력(P0): <span id="analogVal" class="readout value-box"
                                style="color:#2196F3;">--</span></span>
                    </div>
                </div>

                <!-- 회로 시각화 컨테이너 -->
                <div class="circuit-container">
                    <!-- 좌측: 회로도 -->
                    <div class="circuit-schematic">
                        <div class="power-label">⚡ 3.3V</div>
                        <div class="wire-segment"></div>
                        <div class="component cds-component" id="cdsBox">
                            <svg class="light-icon" id="lightIcon" viewBox="0 0 100 100"
                                xmlns="http://www.w3.org/2000/svg">
                                <circle cx="50" cy="50" r="45" fill="#F4A460" stroke="#D2691E" stroke-width="3" />
                                <path d="M30 30 H70 M70 30 V45 M70 45 H30 M30 45 V60 M30 60 H70 M70 60 V75 M70 75 H30"
                                    fill="none" stroke="#8B4513" stroke-width="5" stroke-linecap="round"
                                    stroke-linejoin="round" />
                            </svg>
                            <span class="resist-label" id="cdsResistLabel">50kΩ</span>
                        </div>
                        <div class="wire-segment"></div>
                        <div class="measure-indicator">
                            ➤ P0: <span id="p0Voltage">1.65V</span>
                        </div>
                        <div class="wire-segment"></div>
                        <div class="component fixed-component">
                            <span class="resist-label">10kΩ (고정)</span>
                        </div>
                        <div class="wire-segment"></div>
                        <div class="ground-label">⏚ GND</div>
                    </div>


                    <!-- 우측: 전압 분배 막대 -->
                    <div class="voltage-visualizer">
                        <div class="voltage-stack" id="voltageStack">
                            <div class="voltage-bar cds-bar" id="cdsVoltageBar">
                                <span id="cdsVoltageText">1.65V</span>
                            </div>
                            <div class="voltage-bar fixed-bar" id="fixedVoltageBar">
                                <span id="fixedVoltageText">1.65V</span>
                            </div>
                            <div class="voltage-divider-line" id="voltageDividerLine">
                                <span class="divider-label">← P0 측정</span>
                            </div>
                        </div>
                        <div class="voltage-labels">
                            <span class="top-label">3.3V</span>
                            <span class="bottom-label">0V (GND)</span>
                        </div>
                        <div class="signal-path" id="signalPath">
                            <div class="arrow-line">
                                <span class="signal-label">P0</span>
                            </div>
                            <div class="microbit-box">Micro:Bit</div>
                        </div>
                    </div>
                </div>

                <div class="led-array">
                    <div class="led" id="led1"></div>
                    <div class="led" id="led2"></div>
                    <div class="led" id="led3"></div>
                    <div class="led" id="led4"></div>
                    <div class="led" id="led5"></div>
                </div>
                <div style="text-align:center; margin-top:10px; font-size:0.85em; color: var(--text-sub);">LED 점등 상태
                    (Micro:Bit가 P0의 전압을 기준으로 LED를 점등)</div>
            </div>

            <script>
                (function () {
                    const slider = document.getElementById('lightSlider');
                    const resDisplay = document.getElementById('resVal');
                    const analogDisplay = document.getElementById('analogVal');
                    const leds = [
                        document.getElementById('led1'),
                        document.getElementById('led2'),
                        document.getElementById('led3'),
                        document.getElementById('led4'),
                        document.getElementById('led5')
                    ];

                    const R_FIXED = 10000; // 10k Ohm
                    const V_IN = 3.3; // Microbit voltage

                    function updateSimulation() {
                        const lightPercent = parseInt(slider.value);

                        // 기존 계산
                        const R_CDS = 100000 / (1 + lightPercent);
                        const V_OUT = V_IN * (R_FIXED / (R_CDS + R_FIXED));
                        const V_CDS = V_IN - V_OUT;
                        const analogValue = Math.round((V_OUT / V_IN) * 1023);

                        // 1. 기존 텍스트 업데이트
                        resDisplay.textContent = Math.round(R_CDS).toLocaleString();
                        analogDisplay.textContent = analogValue;

                        // 2. 빛 아이콘 밝기 조절
                        const lightIcon = document.getElementById('lightIcon');
                        const brightness = 0.5 + lightPercent / 100;
                        if (lightPercent > 70) {
                            lightIcon.style.filter = `brightness(${brightness}) drop-shadow(0 0 8px #FFD700)`;
                        } else {
                            lightIcon.style.filter = `brightness(${brightness})`;
                        }

                        // 3. CdS 박스 배경색 변경
                        const cdsBox = document.getElementById('cdsBox');
                        const hue = 45;
                        const saturation = lightPercent;
                        const lightness = 20 + lightPercent / 3;
                        cdsBox.style.backgroundColor = `hsl(${hue}, ${saturation}%, ${lightness}%)`;

                        // 저항에 따라 테두리 두께 변화
                        const borderWidth = 2 + (R_CDS / 100000) * 4;
                        cdsBox.style.borderWidth = `${borderWidth}px`;

                        // 4. 저항 값 레이블 업데이트
                        document.getElementById('cdsResistLabel').textContent =
                            `${(R_CDS / 1000).toFixed(1)}kΩ`;

                        // 5. 전압 분배 막대 높이 조절 (Flex 비율)
                        const cdsBar = document.getElementById('cdsVoltageBar');
                        const fixedBar = document.getElementById('fixedVoltageBar');

                        cdsBar.style.flex = V_CDS.toFixed(2);
                        fixedBar.style.flex = V_OUT.toFixed(2);

                        // 6. 전압 텍스트 표시
                        document.getElementById('cdsVoltageText').textContent =
                            `${V_CDS.toFixed(2)}V`;
                        document.getElementById('fixedVoltageText').textContent =
                            `${V_OUT.toFixed(2)}V`;
                        document.getElementById('p0Voltage').textContent =
                            `${V_OUT.toFixed(2)}V`;

                        // 7. 전압 분배선 위치 조절
                        const voltageStack = document.getElementById('voltageStack');
                        const dividerLine = document.getElementById('voltageDividerLine');
                        const signalPath = document.getElementById('signalPath');
                        const stackHeight = voltageStack.offsetHeight;
                        const dividerTop = (V_CDS / V_IN) * stackHeight;
                        dividerLine.style.top = `${dividerTop}px`;

                        // 화살표도 경계선 높이에 맞춤 (absolute position이므로 top 사용)
                        signalPath.style.top = `${dividerTop - 1.5}px`;

                        // 8. LED 업데이트 (기존 로직 유지)
                        const activeCount = Math.round(analogValue * 5 / 1023);
                        leds.forEach((led, index) => {
                            led.classList.toggle('on', index < activeCount);
                        });
                    }

                    slider.addEventListener('input', updateSimulation);
                    // 초기 로드 및 리사이즈 시 업데이트
                    updateSimulation();
                    window.addEventListener('resize', updateSimulation);
                })();
            </script>
        </section>

        <!-- Framework 3: Practical Application (Circuit) -->
        <section>
            <h2>3. 실전 회로 구성: 브레드보드 위에 구현되는 몸체</h2>

            <h3>준비물 체크리스트 🛠️</h3>
            <ul>
                <li><strong>마이크로비트 & 확장 보드</strong>: 두뇌 & 두뇌를 몸과 연결하는 신경망!</li>
                <li><strong>브레드보드(빵판)</strong>: 납땜 없이 부품을 꽂아 회로를 구성하는 편리한 빵판.</li>
                <li><strong>CdS 저항 1개</strong>: 빛을 감지하는 주인공.</li>
                <li><strong>10kΩ 저항 1개 (갈-검-주)</strong>: 전압 분배를 위한 핵심 파트너. (절대 220Ω이랑 헷갈리면 안 돼!)</li>
                <li><strong>LED 5개</strong>: 빛의 세기를 보여줄 출력 장치.</li>
                <li><strong>220Ω 저항 5개 (빨-빨-갈)</strong>: LED가 타지 않게 지켜주는 보디가드.</li>
            </ul>

            <h3>단계별 조립 가이드</h3>
            <p><strong>Step 1: 입력부 (센서) 연결</strong><br>
                CdS의 한쪽 다리는 3V 라인에, 다른 쪽 다리는 10kΩ 저항과 만나게 꽂아줘. 이 만나는 지점이 가장 중요해! 여기서 점퍼선을 뽑아서 마이크로비트의
                <strong>P0</strong> 핀으로 보내는 거야. 그리고 10kΩ 저항의 반대쪽 다리는 꼭 <strong>GND</strong>로 보내줘. (3V - CdS - P0분기점 -
                10kΩ - GND 순서)
            </p>

            <p><strong>Step 2: 출력부 (LED) 연결</strong><br>
                LED 5개를 일렬로 꽂아보자. 긴 다리(+)는 마이크로비트의 <strong>P1, P2, P8, P12, P16</strong> 같은 디지털 핀에 각각 연결해. 짧은 다리(-)는
                220Ω 저항을 하나씩 달아서 모두 <strong>GND</strong> 라인으로 모아주는 거야. GND는 모두가 함께 쓰는 공용 출구 같은 곳이지!</p>

            <div style="text-align: center; margin: 30px 0;">
                <img src="CdS 2D.png" alt="마이크로비트-브레드보드 배선 회로도"
                    style="max-width: 100%; height: auto; border-radius: 12px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);">
                <p style="text-align: center; margin-top: 15px; font-size: 0.9em; color: var(--text-sub);">마이크로비트-브레드보드
                    배선 회로도</p>
            </div>
        </section>

        <!-- Framework 4: Logical Structure (Software) -->
        <section>
            <h2>4. 소프트웨어 로직: 마이크로비트 안에 구현되는 정신</h2>

            <h3>맵핑(Mapping): 수학을 코딩으로</h3>
            <p>센서 값은 0에서 1023까지 변하는데, 우리가 가진 LED는 고작 5개뿐이야. 이 거대한 숫자를 5단계로 어떻게 줄일 수 있을까? 여기서
                <strong>'맵핑(Mapping)'</strong>이라는 멋진 스킬이 등장해.
            </p>
            <p>MakeCode에 있는 <strong>값 변환</strong> 블록을 쓰면 돼. "0부터 1023까지의 값을 0부터 5까지의 범위로 바꿔줘!"라고 명령하는 거지. 수학적으로는 비례식을
                쓰는 건데, 코딩으로는 블록 하나면 끝이야. 이렇게 변환된 값을 변수에 저장해두고, 그 변수를 조건으로 LED를 켜주면 돼. 스마트 하지? 😎</p>

            <h3>LED를 켜는 조건은 어떻게 정하나요? 조건문(if)의 마법</h3>
            <p>센서가 보낸 값에 따라 LED를 켜는 로직을 짜기 위해선 간단한 <strong>조건문</strong>이면 충분해. "만약(If) 센서 값이 1보다 크면 첫 번째 LED 켜기, 아니면 끄기.
                2보다 크면 두 번째 LED 켜기, 아니면 끄기." 이걸 5번 반복하는 거지. 조금 노가다(?) 같지만, 조건문의 원리를 이해하는 데는 아주 좋은 방법이지. 프로그래밍을 더 공부하면
                더 세련된 조건문을 작성할 수도 있겠지?</p>

            <h3>LED를 어떻게 켜나요?</h3>
            <p>LED를 켜려면 "핀" 메뉴로 들어가서 <strong>디지털 값 출력</strong> 블록을 찾아야 해. 이 블록으로 각 LED가 연결된 핀(P1, P2, P8, P12,
                P16)에 1(켜기) 또는 0(끄기)을 출력하는 거지. 핀에 1을 출력한다는 것은 3.3V의 전압을 걸어준다는 의미야. 그러면 LED가 켜지겠지? 💡</p>

            <div style="text-align: center; margin: 30px 0;">
                <img src="block.png" alt="MakeCode 코딩 블록 구조"
                    style="max-width: 90%; height: auto; border-radius: 12px; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);">
                <p style="text-align: center; margin-top: 15px; font-size: 0.9em; color: var(--text-sub);">MakeCode 코딩
                    블록 구조</p>
            </div>
        </section>

        <!-- Framework 5: Troubleshooting (Bailey's Corner) -->
        <section>
            <h2>5. 선생님, 이거 안돼요! 실패는 성공의 어머니?</h2>

            <h3>흔한 실수 TOP 3 ⚡</h3>
            <p><strong>1. 저항 색깔 실수 </strong><br>
                "선생님, 값이 안 변해요!" → 십중팔구 10kΩ 자리에 220Ω을 꽂았을 거야. 저항 띠 색깔(갈검주 vs 빨빨갈)을 눈 크게 뜨고 꼭 확인해!</p>

            <p><strong>2. LED 극성 반대 </strong><br>
                "선생님, 불이 안 켜져요!" → LED는 다이오드라서 전기가 한 방향으로만 흘러. 긴 다리가 플러스(+) 쪽을 향했는지 확인해 봐.</p>

            <p><strong>3. 빵판의 배신 </strong><br>
                브레드보드 내부의 금속핀이 헐거워서 접촉 불량이 날 때가 있어. 회로가 완벽한데 안 된다면, 부품을 살짝 꾹꾹 눌러보거나 자리를 옆으로 옮겨 보기!</p>
        </section>

        <section class="type-summary">
            <h3>✨ 수업 마무리 및 확장</h3>
            <ul>
                <li>잘 성공했니? 이번 수업을 통해 <strong>'입력(센서) → 처리(로직) → 출력(LED)'</strong>이라는 컴퓨터의 기본 작동 원리를 완벽하게 체험했어.</li>
                <li>확장 과제로 <strong>'어두우면 켜지는 가로등'</strong>을 만들어보는건 어때? 논리적 사고력이 쑥쑥 자라날 거야!</li>
            </ul>
        </section>

        <footer class="footer">
            <p>Designed for Future Education | 찾아가는 반도체 교실</p>
        </footer>

    </div>
</body>

</html>